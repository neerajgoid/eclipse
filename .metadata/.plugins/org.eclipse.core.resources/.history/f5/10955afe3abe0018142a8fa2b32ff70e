package com.globant.neeraj.assignments;

import java.util.Scanner;
import java.util.Stack;

public class Parenthesis {

	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
		
		System.out.println("Enter your string(in parenthesis form)");
		String input = scanner.next();
		//String input1 = "{{}[]}";
		Stack<Character> stack = new Stack<>();
		check(stack, input);
	//	stack_push(input1,stack);

	}
	

	public static void check(Stack<Character> stack,String input) {
		
		char c1;
		char c2;
		char c0;

		for(int itr=0;itr<input.length();itr++)
		{
			c0 = input.charAt(itr);
			if(c0=='{'||c0=='['||c0=='(')
			{
				stack.push(c0);
			}
				else if(c0=='}' && stack.pop()=='{')
			{
					System.out.println("match found");
			}
				else if(c0==']' && stack.pop()=='[')
				{
						System.out.println("match found");
				}
			
				else if(c0==')' && stack.pop()=='(')
				{
						System.out.println("match found");
				}
				else
				{
					System.out.println("Not perfect");
					break;
				}
			
			if(stack.empty())
			{
				c0 = input.charAt(itr);
				if(c0=='{'||c0=='['||c0=='(')
				stack.push(c0);
				else
				{
					stack.push('-');
					System.out.println("imprefect");
					break;
				}	
			}
				c1 = stack.peek();
			
				/*	if((itr+1)<input.length()) {
					c2 = input.charAt(itr+1);
			
					if((c1=='{' && c2 =='}') || (c1=='(' && c2 ==')') || (c1=='[' && c2 ==']') ) {
						stack.pop();
								//itr++;
						System.out.println("Match found");
					}
					else {
						stack.push(c2);
			//	itr++;
					}	
				} */
		//	}
		}
		
		if(stack.empty())
		{
			System.out.println("Perfect ");
		}
		else
		{
			System.out.println("Not perfect");
		}
		
	}

	}
	
	
	
	


